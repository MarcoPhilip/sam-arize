{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="icon" type="image/png" href="{% static 'images/samarize-favicon.png' %}">
  <link rel="shortcut icon" type="image/png" href="{% static 'images/samarize-favicon.png' %}">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Electrolize&family=IBM+Plex+Serif:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Nova+Square&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">


  <link rel="stylesheet" href="{% static 'css/base/base.css' %}" />

  <title>{% block title %} Samarize {% endblock %}</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  {% block head %}{% endblock %}

</head>
<body>
{% if request.resolver_match %}
  {% if request.resolver_match.url_name != 'home' and request.resolver_match.url_name != 'login' and request.resolver_match.url_name != 'signup' %}
<header>
  <nav class="navbar navbar-expand-lg" style="background-color: var(--surface); border-bottom:1px solid var(--border);">
    <div class="container-fluid">
      <!-- Brand -->
      <a class="navbar-brand d-flex align-items-center"  href="{% if user.is_authenticated %}{% url 'dashboard' %}{% else %}{% url 'home' %}{% endif %}">
        <img src="{% static 'images/samarize-home.png' %}" alt="Samurai Logo" width="56" height="56"
             style="border-radius:50%; filter: drop-shadow(0 0 12px rgba(255,90,9,.7)) drop-shadow(0 0 28px rgba(236,127,55,.5));">
      </a>
      <span class="navbar-text mx-auto fw-bold" style="color: var(--accent); font-size: 2rem; font-family: 'Electrolize', sans-serif;">
        SAM-ARIZE
      </span>
      <!-- Toggler (required for collapse) -->
      <button class="navbar-toggler" type="button"
        data-bs-toggle="collapse" data-bs-target="#mainNavbar"
        aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation"
        style="border: 2px solid var(--accent);">
  <span class="navbar-toggler-icon"></span>
</button>

      <!-- Collapsible content -->
      <div class="collapse navbar-collapse" id="mainNavbar">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="{% url 'dashboard' %}">Dashboard</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'asset_index' %}">Assets</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'inventory_list' %}">Inventory</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'purchase_order_list' %}">Purchase Orders</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'category_list' %}">Categories</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'location_list' %}">Locations</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'supplier_list' %}">Suppliers</a></li>
          <br>
          {% if user.is_authenticated %}
            <li class="nav-item">
              <a href="#" class="btn btn-link nav-link logout-btn p-0" 
                onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
                Log out
              </a>
              <form id="logout-form" method="post" action="{% url 'logout' %}" style="display:none;">
                {% csrf_token %}
              </form>
            </li>
          {% endif %}
        </ul>
      </div>
    </div>
  </nav>
</header>
  {% endif %}
{% endif %}

<main>
  {% block content %}{% endblock %}
</main>

<footer>
  <p>&copy; {{ current_year }} SAM-ARIZE Â· Asset & Inventory Management</p>
  <p>Created by Nesar Atayi, Marco Philip Agapito, and Yaya Sanyang</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</body>
</html>