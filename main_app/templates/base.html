{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="icon" type="image/png" href="{% static 'images/samarize-favicon.png' %}">
  <link rel="shortcut icon" type="image/png" href="{% static 'images/samarize-favicon.png' %}">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Electrolize&family=Nova+Square&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

  <!-- Your app styles -->
  <link rel="stylesheet" href="{% static 'css/base/base.css' %}" />

  <title>{% block title %} Samarize {% endblock %}</title>

  <!-- Bootstrap CSS (once) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  {% block head %}{% endblock %}

</head>
<body>
{% if request.resolver_match %}
  {% if request.resolver_match.url_name != 'home' and request.resolver_match.url_name != 'login' and request.resolver_match.url_name != 'signup' %}
<header>
  <nav class="navbar navbar-expand-lg" style="background-color: var(--surface); border-bottom:1px solid var(--border);">
    <div class="container-fluid">
      <!-- Brand -->
      <a class="navbar-brand d-flex align-items-center"  href="{% if user.is_authenticated %}{% url 'dashboard' %}{% else %}{% url 'home' %}{% endif %}">
        <img src="{% static 'images/nav-img.png' %}" alt="Samurai Logo" width="56" height="56"
             style="border-radius:50%; filter: drop-shadow(0 0 12px rgba(255,90,9,.7)) drop-shadow(0 0 28px rgba(236,127,55,.5));">
      </a>
      <span class="navbar-text mx-auto fw-bold" style="color: var(--accent); font-size: 2rem; font-family: 'Electrolize', sans-serif;">
        SAM-ARIZE
      </span>
      <!-- Toggler (required for collapse) -->
      <button class="navbar-toggler" type="button"
              data-bs-toggle="collapse" data-bs-target="#mainNavbar"
              aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Collapsible content -->
      <div class="collapse navbar-collapse" id="mainNavbar">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="{% url 'dashboard' %}">Dashboard</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'inventory_list' %}">Inventory</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'category_list' %}">Categories</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'location_list' %}">Location</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'purchase_order_list' %}">Purchase Order</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'asset_index' %}">Assets</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'supplier_list' %}">Suppliers</a></li>

          {% if user.is_authenticated %}
            <li class="nav-item">
              <form method="post" action="{% url 'logout' %}" class="d-inline">
                {% csrf_token %}
                <button type="submit" class="btn btn-link nav-link p-0">Logout</button>
              </form>
            </li>
          {% else %}
            <li class="nav-item"><a class="nav-link" href="{% url 'login' %}">Login</a></li>
            <li class="nav-item"><a class="nav-link" href="{% url 'signup' %}">Sign Up</a></li>
          {% endif %}
        </ul>
      </div>
    </div>
  </nav>
</header>
  {% endif %}
{% endif %}

<main>
  {% block content %}{% endblock %}
</main>

<footer>
  <p>COPYRIGHT @ 2025</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</body>
</html>